---
ansible:
  playbook: tests/molecule_playbook.yml
dependency:
  name: galaxy
  requirements_file: tests/requirements.yml
driver:
  name: docker
docker:
  containers:
    - name: debian9
      image: jgeusebroek/debian9-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - debian
    - name: debian8
      image: jgeusebroek/debian8-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - debian
    # - name: centos6
    #   image: geerlingguy/docker-centos6-ansible
    #   image_version: latest
    #   command: /sbin/init
    #   privileged: true
    #   ansible_groups:
    #     - redhat
    - name: centos7
      image: jgeusebroek/centos7-molecule
      image_version: latest
      privileged: true
      command: /usr/lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - redhat
    - name: ubuntu1604
      image: jgeusebroek/ubuntu1604-molecule
      image_version: latest
      privileged: true
      command: /lib/systemd/systemd
      volume_mounts:
        - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
      ansible_groups:
        - ubuntu
verifier:
  name: testinfra
